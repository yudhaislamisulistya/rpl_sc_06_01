global:
  scrape_interval: 15s      # seberapa sering Prometheus scrape target
  evaluation_interval: 15s  # seberapa sering evaluasi rule (untuk alerting rule nanti)

scrape_configs:
  # 1. Scrape metrics dari API FastAPI (endpoint /metrics)
  - job_name: "komoditas-api"
    metrics_path: /metrics
    static_configs:
      - targets:
          - "api:8000"        # nama service di docker-compose, buka /metrics

  # 2. Scrape metrics dari Pushgateway (hasil evaluate.py, MAE, dll.)
  - job_name: "komoditas-eval"
    honor_labels: true
    static_configs:
      - targets:
          - "pushgateway:9091"  # nama service pushgateway di docker-compose